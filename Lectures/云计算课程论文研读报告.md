# Transient Guarantees: Maximizing the Value of Idle Cloud Capacity
这是一篇2016年SC（International Conference for High Performance Computing, Networking, Storage, and Analysis）的论文，SC是属于CCF A类的超算领域顶级会议，文章作者来自于麻省大学，本文主要研究利用云平台的闲置资源来获取最大收益。

## 1. 文章的研究背景和意义是什么？
**研究背景**
400字

**研究意义**
关于如何能利用云平台的闲置资源来获取最大收益，传统方法分别从平台和市场角度、以及用户和应用角度进行提升。而本文的方法兼顾两边，从平台角度增加收入，与现有的方法相比可以将闲置服务器容量的总收入提高到6.5倍∼。从用户角度提升了服务的性能和保障。

## 2. 文章的主要创新点和贡献是什么？
**创新点**

**贡献**
由于临时服务器是一个新的概念，并没有被广泛使用，已有的市场策略并没有将收益达到最大。那么本文通过提炼出可用性、波动性和可预测性这三种临时服务器的特征，提出临时服务担保的概念，提供了关于撤销特征的概率性保证。给出了更有效的临时服务器分类方法、均衡价格的计算方法和推荐的定价曲线，使用户能够最大化和量化临时服务器的性能和价值，同时使平台能够提升收益。因此，临时服务担保可能代表了一种更好的提供和消费临时服务器的方式
## 3. 文章的主要内容是如何设计或实现的？
本文三个方面的核心工作分别是临时服务器特征、临时服务担保和评估部分
**设计**
临时服务器特征

临时服务担保

**实现**
实验评估

## 4. 以这篇文章为起点，你扩展阅读了哪些文献？
- A First Order Approximation to the Optimum Checkpoint Interval
这篇文章的目的是提出一种确定检查点之间最佳时间间隔的一阶近似值的方法，由于随机故障会造成作业失败，产生大量损失的容错时间开销（例如保存状态、系统回卷和重计算），通过减少这些时间损失，从而最大限度地减少由于随机故障造成的作业失败的成本，假定计算机使用成本基本上与机器中的时间成正比。那么，作业的执行时间可以被认为是由检查点之间的时间间隔Tc和在检查点保存信息的时间Ts交替进行的，直到故障发生。这种故障可能发生在间隔时间Tc或Tc。在任何一种情况下，程序的执行都会在程序中前一个检查点成功的位置恢复，假设在故障发生时基本上观察到了故障指示，那么由于这种故障的发生而产生的重新运行或恢复时间tr是指从前一个间隔Ts结束到故障点的时间，如图I中的时间线所示。
由于故障发生而损失的时间t1包括在故障发生前做检查点的时间nTs，加上tr。也就是说，t1=nTs+tr。
但是，故障间隔长度为tl的概率；正是损失时间持续时间为ti的概率。
![](https://zjpimage.oss-cn-qingdao.aliyuncs.com/%E6%9C%80%E4%BD%B3%E6%A3%80%E6%9F%A5%E7%82%B9%E9%97%B4%E9%9A%94.jpg)
- Using Iterative MapReduce for Parallel Virtual Screening
我们国家的相关课题组在短时间内，利用 Amazon EC2 的实例筛选了五个药物库，总计超过几百万个药物分子。AWS 提供的 Amazon EC2 第 5 代计算优化型实例 c5.9xlarge，帮助该  课题组快速搭建了虚拟药物筛选流程，仅用时 2 天，即完成了快速筛选 5 类药物  
分子数据库 ZINC、CHEMBL、CHEMBRIDGE、NCI、TCM，获得了 14 个具有  
潜在抗毒特性的分子，其中最优的一个分子的 Glide 得分为-13.256（评分越低越  
好）。而这类分析在本地分析平台上一般需要 1 周多的时间。
## 5. 从这篇文章中你得到什么思考或收获。（重点）
量化角度：
调度角度：
容错角度：

## 6. 以这篇文章为起点，后续可以开展什么样的研究工作。（重点）
新型冠状病毒的出现，给科研人员的研究工 作带来了极大的挑战，如果能将计算资源从有限到无限扩展，那么在更短的时间  里将会获得更高效的结果，这就需要计算资源能够扩展，或者能按需的扩展资源，来实现不同数据库的并行计算。 比如利用 AWS 提供的云平台很快就能获取所需的算力，在云上只需要几分钟就可以创建需要的 CPU 和 GPU 的计算平台，与本地购买服务器、部署相比非常高效；而且，在云上部署相关分析软件时，AWS 利用全球资源联系到了技术专家，可以给予很多帮助，这对于快速进行研究非常重要。
	NAMD（NAnoscale Molecular Dynamics）是目前分子动力学模拟  
（MolecularDynamics Simulation，MDS）中最为出色的软件，适用于大型生物分  
子的模拟计算。其主要的计算方法是周期性地求解牛顿运动方程，主要计算内容  
是原子间作用力计算，包括计算原子速度、位置坐标等物理参数，属于典型的计  
算密集型任务。近些年在网格计算基础上发展的云计算，将基础设施、平台和软  
件作为服务发布，倾向于将强大的计算资源（包括计算、存储和交互能力等）以  
服务的方式整合在云端，使其成为可被广大用户使用的具有弹性伸缩、高可用、  
高可靠等特性的虚拟资源。这种集约化、按需服务、即用即付的服务模式更能满  
足大规模并行计算科学实验研究的要求。

---


首先明确一点，临时服务器在本质上是价值更低的，因为平均而言，与同等的按需服务器相比，瞬时服务器在每单位时间内完成的工作更少
按需服务是指：用户购买之后平台不能单方面撤回，而基于市场价格的临时服务器则不同，用户当初下单的那个价格，在使用期间可能有一段时间低于市场价格，这样平台就赔钱了，所以平台会暂时撤回你的服务器并将这些服务器租赁给别的用户，这里的新用户当初下单的价格需要得是高于当前市场价格的。

平均撤回时间MTTR过高会导致检查点过少，MTTR过低会导致检查点过多。检查时间间隔过长使检查点过少，此时发生的撤销会带来更长的系统恢复和重新计算的时间；另一方面，检查时间间隔过短使检查点过多，过度检查和保存断点带来了更多的时间和空间开销。所以就存在一个trideoff，从客户角度，如何选择一个最佳的检查点间隔Topt使损失的时间最小。这个公式中δ表示进行每个checkpoint所花费的时间开销，MTTR就是平均的发生撤销的时间间隔，具体这个公式是怎么推导出来的我会在后面进行讲解，这是一个容错领域比较经典的检查点问题。那么这个公式表示应用程序需要每隔Topt的时间间隔花费δ的时间将内存状态的检查点写入到磁盘。

临时服务器上运行时间为Tspot的应用程序的预期完成时间E[T]如下。第一项是应用程序的实际运行时间，第二项是检查点的额外开销（以最佳频率设置检查点），在每个检查点间隔中产生δ开销，最后一项是所有撤销的预期重新计算开销（假设每个间隔中任何时刻的撤销概率相同）

基于以上的分析，可以从一个批处理程序的波动性、检查点开销和同等的按需服务器的价格方面推导出其均衡价格。那么这里就提出了一个均衡价格的概念，通俗解释就是，让我租赁按需服务所得到的算力单价和我租赁临时服务器的单价保持一致（按小时的），这个时候临时服务器所定的价格就是相对于按需服务的“均衡价格”。但是临时服务的性能是弱于按需服务的，用户心理肯定不满意，因为我不需要那种保证不撤销服务器的服务，可以容忍少数的撤销，我才选择的临时服务器，然后最后算力单价和按需服务的一样贵。因为这个均衡价格保证的是二者算力单价一致，实际上是没有折扣的，所以说平台定价只需要在这个均衡价格的基础上打折即可。
如图举例，假如按需服务是20 \$ 每小时，我的计算任务需要12小时，那么我要是选择临时服务器来完成我的计算任务，需要额外的8小时损失时间，临时服务器如果定价12\$ 每小时，看似打了40%的折扣，实际上我获得的算力单价和按需服务的一样贵，然后我还得承担这些额外的损失时间，那么当在12$基础上再打的折扣可以支付我对临时服务器做的容忍和让步 的时候，我就可以接受这个价格，这是平台从用户的角度进行定价。



